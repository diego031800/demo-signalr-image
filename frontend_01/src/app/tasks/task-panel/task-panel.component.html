<div
  class="container flex flex-col bg-gray-800 rounded-2xl shadow-lg p-6 h-full w-full"
>
  <h1 class="flex text-2xl font-bold text-white mb-4">Task Panel</h1>
  <p class="flex text-gray-300 mb-6">
    Manage your tasks efficiently with our task panel.
  </p>
  <div
    class="container flex-1 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4"
  >
    <div
      id="drop-zone"
      class="sm:col-span-2 m-6 flex flex-1 items-center justify-center cursor-pointer rounded-lg bg-gray-700 text-white p-4 hover:bg-gray-600 transition-colors duration-200 border-2"
      [ngClass]="{
        'border-dashed border-sky-500 bg-gray-600/60 animate-pulse': isDragging,
        'border-transparent bg-gray-700 hover:bg-gray-600': !isDragging
      }"
      (click)="fileInput.click()"
      (dragover)="onDragOver($event)"
      (dragleave)="onDragLeave($event)"
      (drop)="onDrop($event)"
    >
      <ng-container *ngIf="isLoading; else ready">
        <svg
          class="h-12 w-12 animate-spin text-white"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
        >
          <circle
            class="opacity-25"
            cx="12"
            cy="12"
            r="10"
            stroke-width="4"
          ></circle>
          <path
            class="opacity-75"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="4"
            d="M4 12a8 8 0 018-8v4l3-3-3-3v4a8 8 0 11-8 8h4z"
          ></path>
        </svg>
      </ng-container>
      <ng-template #ready>
        <ng-container *ngIf="previewSrc; else placeholder">
          <img
            [src]="previewSrc"
            alt="Preview"
            class="object-contain max-w-80 h-full rounded"
          />
        </ng-container>
        <ng-template #placeholder>
          <span class="text-white text-center"
            >Drop your image here or click to upload.</span
          >
        </ng-template>
      </ng-template>
      <input
        #fileInput
        type="file"
        class="hidden"
        accept="image/png, image/jpg, image/jpeg, image/gif, image/webp"
        (change)="onFileSelected($event)"
      />
    </div>
    <div>
      <select
        class="mt-4 bg-gray-700 text-white py-2 px-4 rounded w-full"
        name="filtros"
        id="filtros"
      >
        <option value="none" selected disabled>
          Select a filter to proccess
        </option>
        <option value="grayscale">Grayscale</option>
        <option value="sepia">Sepia</option>
        <option value="invert">Invert</option>
      </select>
      <button
        type="button"
        class="mt-4 bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700 cursor-pointer w-full"
      >
        Proccess
      </button>
    </div>
  </div>
</div>
